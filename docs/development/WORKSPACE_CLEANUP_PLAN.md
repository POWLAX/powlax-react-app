# POWLAX Workspace Cleanup Plan
**Generated by**: Workspace Organization Architect (A4CC)  
**Date**: January 15, 2025  
**Status**: Ready for Implementation

---

## 🚨 Critical Issues Identified

### 1. **Deleted Core Files (40+ files)**
These essential files have been deleted but not committed:
- Next.js configuration files (next.config.mjs, postcss.config.mjs) 
- Core UI components (DrillCard.jsx, PracticePlanner.jsx)
- Complete UI library (components/ui/*)
- Essential configs (eslint.config.mjs, tailwind.config.js)
- Core app structure (app/ directory)

### 2. **Configuration Conflicts**
- Duplicate configs: next.config.js vs next.config.mjs
- Duplicate configs: postcss.config.js vs postcss.config.mjs
- Multiple TypeScript configs present

### 3. **Unorganized Root Directory**
- 11 SQL files scattered in root
- 4 JSON summary files in root
- Multiple markdown documentation files
- Development artifacts (screenshots/, playwright-report/)

### 4. **Task Organization Issues**  
- Tasks scattered across multiple locations
- No clear active/completed separation
- Missing coordination structure between agents

---

## 📋 Phase 1: Emergency Cleanup (Immediate Actions)

### A. Git Repository Stabilization
1. **Review Deleted Files**
   ```bash
   # List all deleted files
   git status | grep deleted
   
   # Check if src/ directory exists with new structure
   ls -la src/
   ```

2. **Decision Matrix for Deleted Files**
   - **RESTORE**: If no equivalent exists in src/
   - **COMMIT DELETION**: If functionality moved to src/
   - **DOCUMENT**: All decisions in git commit message

3. **Handle Configuration Conflicts**
   - Keep: next.config.js, postcss.config.js, tailwind.config.ts
   - Remove: .mjs versions (if duplicates)
   - Document: Decision rationale

### B. Root Directory Cleanup
1. **Create Organization Directories**
   ```
   data/
   ├── imports/          # Move all SQL files here
   ├── summaries/        # Move all JSON summary files
   └── mappings/         # CSV mapping files
   ```

2. **Move Files**
   - `*.sql` → `data/imports/`
   - `*_summary.json` → `data/summaries/`
   - `lacrosse_lab_*.csv` → `data/mappings/`

3. **Development Artifacts**
   - Add to .gitignore: `playwright-report/`, `test-results/`
   - Keep `screenshots/` but move to `docs/media/screenshots/`

---

## 📁 Phase 2: Task System Restructuring

### Current Structure (Exists)
```
tasks/
├── README.md
├── academy/
├── database/
├── gamification/
└── practice-plan/
```

### Enhanced Structure (To Implement)
```
tasks/
├── README.md                          # Update with new structure
├── active/                           # NEW: Current work
│   ├── database/                    
│   ├── gamification/                # Move existing content here
│   ├── frontend/                    # NEW
│   ├── infrastructure/              # NEW  
│   └── academy/                     # Move existing
├── completed/                       # NEW: Finished work
│   └── [YYYY-MM-DD]-[task-name]/   
├── templates/                       # NEW
│   ├── standard-task-template.md    
│   └── agent-coordination-template.md
└── coordination/                    # NEW: Inter-agent communication
    ├── agent-coordination-log.md
    └── daily-progress/
        └── [YYYY-MM-DD]-progress.md
```

### Migration Steps
1. Create new directories
2. Move existing task folders to `tasks/active/`
3. Create templates for consistency
4. Initialize coordination log

---

## 🔧 Phase 3: Documentation Standardization

### A. Path Reference Standards
All documentation must use relative paths from project root:

**Good Examples**:
- ✅ `src/components/practice-planner/DrillLibrary.tsx`
- ✅ `tasks/active/database/security-audit.md`
- ✅ `docs/existing/Gamification/Gemini Gamification for POWLAX.md`

**Bad Examples**:
- ❌ "DrillLibrary.tsx"
- ❌ "the gamification document"
- ❌ "../../../some/file.ts"

### B. Agent Specification Updates
Update all agent documents in `docs/agent-instructions/` to include:
1. File reference section with path examples
2. Task workspace location (`tasks/active/[domain]/`)
3. Coordination requirements

---

## 📊 Implementation Roadmap

### Week 1: Emergency Cleanup
- [ ] Day 1-2: Git repository stabilization
- [ ] Day 3-4: Root directory organization  
- [ ] Day 5: Configuration consolidation

### Week 2: Task System Implementation
- [ ] Day 1-2: Create new task structure
- [ ] Day 3-4: Migrate existing tasks
- [ ] Day 5: Create templates and documentation

### Week 3: Documentation & Standards
- [ ] Day 1-2: Update all agent specifications
- [ ] Day 3-4: Create path reference guide
- [ ] Day 5: Audit and fix broken references

### Ongoing: Maintenance
- [ ] Daily: Update coordination log
- [ ] Weekly: Archive completed tasks
- [ ] Monthly: Workspace audit

---

## 🎯 Success Metrics

### Immediate Goals
- ✓ Zero uncommitted deletions in git
- ✓ No duplicate configuration files
- ✓ Clean root directory (< 10 files)

### Short-term Goals (2 weeks)
- ✓ All tasks in new structure
- ✓ Agent coordination system active
- ✓ Path standards implemented

### Long-term Goals (1 month)
- ✓ 100% relative path usage
- ✓ Automated task archival
- ✓ Zero broken file references

---

## ⚠️ Critical Decisions Required

### 1. Deleted Core Files
**DECISION NEEDED**: Should we restore the deleted app/ directory structure or is everything now in src/?

**Analysis**:
- Old structure: app/ (Next.js 13+ app router)
- New structure: src/app/ (standard practice)
- **Recommendation**: Commit deletions if src/app/ contains all functionality

### 2. Configuration Files
**DECISION NEEDED**: Which config format to standardize on?

**Analysis**:
- .js files: Better compatibility
- .mjs files: ES modules support
- .ts files: TypeScript support
- **Recommendation**: Use .js for configs, .ts for TypeScript config

### 3. Development Tools
**DECISION NEEDED**: Keep or remove .bmad-core/, .cursor/, .claude/?

**Analysis**:
- May contain project-specific settings
- Could be personal developer tools
- **Recommendation**: Document purpose, then decide

---

## 📝 Next Steps

1. **Get Approval**: Review this plan with team
2. **Backup First**: Create backup branch before changes
3. **Execute Phase 1**: Start with git stabilization
4. **Document Everything**: Log all decisions and changes
5. **Coordinate**: Notify other agents of breaking changes

---

## 🔄 Change Log Template

```markdown
## [Date] - [Change Type]
### Files Affected:
- `path/to/file` - [Action: moved/deleted/created]

### Rationale:
[Why this change was necessary]

### Impact:
[How this affects other agents/systems]

### Rollback:
[How to undo if needed]
```

---

This plan prioritizes stability while implementing the comprehensive reorganization outlined in the Workspace Organization Architect specification.