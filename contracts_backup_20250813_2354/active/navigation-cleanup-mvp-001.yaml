# Claude-to-Claude Sub Agent Contract: Navigation Cleanup for MVP
# Contract ID: navigation-cleanup-mvp-001
# Created: January 11, 2025
# Status: ACTIVE
# Priority: HIGH (MVP Blocker)

metadata:
  contract_id: "navigation-cleanup-mvp-001"
  title: "Navigation Cleanup for MVP Launch"
  created_date: "2025-01-11"
  created_by: "User Request"
  priority: "HIGH"
  status: "ACTIVE"
  estimated_effort: "30 minutes"
  target_completion: "Immediate"

# =============================================================================
# CONTRACT SCOPE
# =============================================================================

objective: |
  Clean up navigation menus to show only core MVP features:
  1. Remove "achievements" and "community" from desktop sidebar and mobile bottom nav
  2. Redirect Skills Academy to workouts page instead of main academy page
  3. Streamline navigation to: Dashboard, Teams, Academy, Resources only

deliverables:
  - Desktop sidebar navigation updated
  - Mobile bottom navigation updated
  - Skills Academy link redirects to /skills-academy/workouts
  - All navigation references updated consistently

# =============================================================================
# TECHNICAL REQUIREMENTS
# =============================================================================

navigation_structure:
  desktop_sidebar:
    current:
      - Dashboard
      - Teams  
      - Academy (Skills Academy)
      - Achievements  # REMOVE THIS
      - Resources
      - Community     # REMOVE THIS
    target:
      - Dashboard
      - Teams
      - Academy (Skills Academy → /skills-academy/workouts)
      - Resources

  mobile_bottom_nav:
    current:
      - Dashboard
      - Teams
      - Academy
      - Rewards (Achievements)  # REMOVE THIS
      - Resources
    target:
      - Dashboard
      - Teams
      - Academy (→ /skills-academy/workouts)
      - Resources

# =============================================================================
# IMPLEMENTATION TASKS
# =============================================================================

tasks:
  1_identify_navigation_components:
    description: "Locate all navigation components (sidebar and mobile bottom nav)"
    files_to_examine:
      - "src/components/navigation/"
      - "src/components/SidebarNavigation.tsx" 
      - "src/components/BottomNavigation.tsx"
      - Any layout files with navigation

  2_update_desktop_sidebar:
    description: "Remove achievements and community from desktop sidebar navigation"
    requirements:
      - Remove achievements menu item and icon
      - Remove community menu item and icon  
      - Update Skills Academy link to go to /skills-academy/workouts
      - Maintain existing styling and responsive behavior
      - Keep dashboard, teams, academy, resources only

  3_update_mobile_bottom_nav:
    description: "Remove achievements/rewards and community from mobile bottom navigation"
    requirements:
      - Remove rewards/achievements icon and link
      - Remove community icon and link (if present)
      - Update Academy icon to link to /skills-academy/workouts
      - Maintain 4-icon layout: Dashboard, Teams, Academy, Resources
      - Ensure touch targets remain appropriate for mobile

  4_update_academy_links:
    description: "Redirect all Skills Academy navigation to workouts page"
    requirements:
      - Change /skills-academy links to /skills-academy/workouts
      - Update any breadcrumbs or secondary navigation
      - Maintain consistent user experience

  5_verify_consistency:
    description: "Ensure all navigation references are updated consistently"
    verification_steps:
      - Check desktop navigation shows 4 items only
      - Check mobile navigation shows 4 items only  
      - Verify Academy links go to workouts page
      - Test navigation on different screen sizes
      - Confirm no broken links or missing icons

# =============================================================================
# NAVIGATION COMPONENT SPECIFICATIONS
# =============================================================================

desktop_sidebar_spec:
  items:
    - icon: "LayoutDashboard"
      label: "Dashboard"
      href: "/dashboard"
    - icon: "Users" 
      label: "Teams"
      href: "/teams"
    - icon: "GraduationCap"
      label: "Academy"  
      href: "/skills-academy/workouts"  # UPDATED TARGET
    - icon: "BookOpen"
      label: "Resources"
      href: "/resources"

mobile_bottom_nav_spec:
  items:
    - icon: "Home"
      label: "Dashboard"
      href: "/dashboard"
    - icon: "Users"
      label: "Teams" 
      href: "/teams"
    - icon: "GraduationCap"
      label: "Academy"
      href: "/skills-academy/workouts"  # UPDATED TARGET
    - icon: "BookOpen" 
      label: "Resources"
      href: "/resources"

# =============================================================================
# FILES TO MODIFY
# =============================================================================

target_files:
  navigation_components:
    - "src/components/navigation/SidebarNavigation.tsx"
    - "src/components/navigation/BottomNavigation.tsx"
    - "src/app/(authenticated)/layout.tsx" 
    
  search_patterns:
    - Look for "achievements", "Achievements", "Trophy", "Award"
    - Look for "community", "Community", "MessageCircle", "Users2"
    - Look for "/skills-academy" (not followed by "/workouts")
    
  verification_files:
    - Any layout or navigation components
    - Mobile responsive navigation components
    - Admin or secondary navigation menus

# =============================================================================
# QUALITY REQUIREMENTS  
# =============================================================================

acceptance_criteria:
  functionality:
    - Desktop navigation shows exactly 4 items
    - Mobile navigation shows exactly 4 items
    - Academy links go to /skills-academy/workouts
    - All navigation remains responsive
    - No broken links or missing icons

  user_experience:
    - Navigation feels clean and focused
    - Mobile touch targets remain appropriate
    - Icons and labels are clear and consistent
    - Transitions and hover states work properly

  technical:
    - No TypeScript errors in navigation components
    - All imports and references are valid
    - Component props and types are correct
    - Navigation state management works properly

# =============================================================================
# TESTING REQUIREMENTS
# =============================================================================

test_checklist:
  desktop_navigation:
    - [ ] Shows Dashboard, Teams, Academy, Resources only
    - [ ] Academy link goes to /skills-academy/workouts
    - [ ] Hover states and active states work
    - [ ] Icons display correctly
    - [ ] Responsive behavior at different breakpoints

  mobile_navigation:  
    - [ ] Bottom nav shows 4 icons only
    - [ ] Touch targets are appropriate size (44px+)
    - [ ] Academy icon links to workouts page
    - [ ] Active state indicates current page
    - [ ] Works on various mobile screen sizes

  integration:
    - [ ] Navigation works across all authenticated pages
    - [ ] No 404 errors from navigation links
    - [ ] Breadcrumbs update correctly (if applicable)
    - [ ] Back button behavior is consistent

# =============================================================================
# ROLLBACK PLAN
# =============================================================================

rollback_strategy: |
  If issues arise, rollback steps:
  1. Restore previous navigation component files from git history
  2. Verify all links work correctly  
  3. Test on mobile and desktop
  4. Re-deploy if necessary
  
  Low risk change - mainly removing menu items and updating one link target.

# =============================================================================
# SUCCESS METRICS
# =============================================================================

success_definition: |
  ✅ Contract Complete When:
  - Desktop sidebar shows Dashboard, Teams, Academy, Resources only
  - Mobile bottom nav shows Dashboard, Teams, Academy, Resources only  
  - Academy navigation goes to /skills-academy/workouts
  - No achievements or community links anywhere in navigation
  - All responsive behavior and styling maintained
  - npm run build succeeds
  - Manual testing confirms navigation works properly

# =============================================================================
# NOTES FOR SUB AGENT
# =============================================================================

agent_instructions: |
  CRITICAL REMINDERS:
  1. This is an MVP cleanup - removing unused features, not adding new ones
  2. Keep existing styling and component structure intact
  3. Academy should redirect to workouts, not the main academy page
  4. Verify mobile touch targets remain appropriate after removal
  5. Test navigation at different breakpoints
  6. Ensure server runs on port 3000 after completion

  SEARCH STRATEGY:
  1. Find navigation components using Glob tool for navigation files
  2. Look for achievements/community references with Grep tool
  3. Update navigation arrays/configurations systematically
  4. Verify no hardcoded navigation links elsewhere in app

  QUALITY CHECKS:
  1. Run npm run lint to check for any issues
  2. Run npm run build to verify TypeScript compilation
  3. Start dev server and manually test navigation
  4. Check both desktop (≥768px) and mobile (<768px) views

contract_end: true